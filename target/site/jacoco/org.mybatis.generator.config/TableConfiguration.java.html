<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>TableConfiguration.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MyBatis Generator Core</a> &gt; <a href="index.source.html" class="el_package">org.mybatis.generator.config</a> &gt; <span class="el_source">TableConfiguration.java</span></div><h1>TableConfiguration.java</h1><pre class="source lang-java linenums">/**
 * Copyright 2006-2016 the original author or authors.
 * &lt;p&gt;
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * &lt;p&gt;
 * http://www.apache.org/licenses/LICENSE-2.0
 * &lt;p&gt;
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.mybatis.generator.config;

import org.mybatis.generator.api.dom.xml.Attribute;
import org.mybatis.generator.api.dom.xml.XmlElement;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import static org.mybatis.generator.internal.util.EqualsUtil.areEqual;
import static org.mybatis.generator.internal.util.HashCodeUtil.SEED;
import static org.mybatis.generator.internal.util.HashCodeUtil.hash;
import static org.mybatis.generator.internal.util.StringUtility.*;
import static org.mybatis.generator.internal.util.messages.Messages.getString;

/**
 * The Class TableConfiguration.
 *
 * @author Jeff Butler
 */
public class TableConfiguration extends PropertyHolder {

    /** The insert statement enabled. */
    private boolean insertStatementEnabled;

    /** The select by primary key statement enabled. */
    private boolean selectByPrimaryKeyStatementEnabled;

    /** The select by example statement enabled. */
    private boolean selectByExampleStatementEnabled;

    /** The update by primary key statement enabled. */
    private boolean updateByPrimaryKeyStatementEnabled;

    /** The delete by primary key statement enabled. */
    private boolean deleteByPrimaryKeyStatementEnabled;

    /** The delete by example statement enabled. */
    private boolean deleteByExampleStatementEnabled;

    /** The count by example statement enabled. */
    private boolean countByExampleStatementEnabled;

    /** The update by example statement enabled. */
    private boolean updateByExampleStatementEnabled;

    /** The column overrides. */
    private List&lt;ColumnOverride&gt; columnOverrides;

    /** The ignored columns. */
    private Map&lt;IgnoredColumn, Boolean&gt; ignoredColumns;

    /** The generated key. */
    private GeneratedKey generatedKey;

    /** The select by primary key query id. */
    private String selectByPrimaryKeyQueryId;

    /** The select by example query id. */
    private String selectByExampleQueryId;

    /** The catalog. */
    private String catalog;

    /** The schema. */
    private String schema;

    /** The table name. */
    private String tableName;

    /** The domain object name. */
    private String domainObjectName;

    /** The alias. */
    private String alias;

    /** The model type. */
    private ModelType modelType;

    /** The wildcard escaping enabled. */
    private boolean wildcardEscapingEnabled;

    /** The configured model type. */
    private String configuredModelType;

    /** The delimit identifiers. */
    private boolean delimitIdentifiers;

    /** The column renaming rule. */
    private ColumnRenamingRule columnRenamingRule;

    /** The is all column delimiting enabled. */
    private boolean isAllColumnDelimitingEnabled;

    private String mapperName;
    private String sqlProviderName;

<span class="nc" id="L114">    private List&lt;IgnoredColumnPattern&gt; ignoredColumnPatterns = new ArrayList&lt;IgnoredColumnPattern&gt;();</span>

    /**
     * Instantiates a new table configuration.
     *
     * @param context
     *            the context
     */
    public TableConfiguration(Context context) {
<span class="nc" id="L123">        super();</span>

<span class="nc" id="L125">        this.modelType = context.getDefaultModelType();</span>

<span class="nc" id="L127">        columnOverrides = new ArrayList&lt;ColumnOverride&gt;();</span>
<span class="nc" id="L128">        ignoredColumns = new HashMap&lt;IgnoredColumn, Boolean&gt;();</span>

<span class="nc" id="L130">        insertStatementEnabled = true;</span>
<span class="nc" id="L131">        selectByPrimaryKeyStatementEnabled = true;</span>
<span class="nc" id="L132">        selectByExampleStatementEnabled = true;</span>
<span class="nc" id="L133">        updateByPrimaryKeyStatementEnabled = true;</span>
<span class="nc" id="L134">        deleteByPrimaryKeyStatementEnabled = true;</span>
<span class="nc" id="L135">        deleteByExampleStatementEnabled = true;</span>
<span class="nc" id="L136">        countByExampleStatementEnabled = true;</span>
<span class="nc" id="L137">        updateByExampleStatementEnabled = true;</span>
<span class="nc" id="L138">    }</span>

    /**
     * Checks if is delete by primary key statement enabled.
     *
     * @return true, if is delete by primary key statement enabled
     */
    public boolean isDeleteByPrimaryKeyStatementEnabled() {
<span class="nc" id="L146">        return deleteByPrimaryKeyStatementEnabled;</span>
    }

    /**
     * Sets the delete by primary key statement enabled.
     *
     * @param deleteByPrimaryKeyStatementEnabled
     *            the new delete by primary key statement enabled
     */
    public void setDeleteByPrimaryKeyStatementEnabled(
            boolean deleteByPrimaryKeyStatementEnabled) {
<span class="nc" id="L157">        this.deleteByPrimaryKeyStatementEnabled = deleteByPrimaryKeyStatementEnabled;</span>
<span class="nc" id="L158">    }</span>

    /**
     * Checks if is insert statement enabled.
     *
     * @return true, if is insert statement enabled
     */
    public boolean isInsertStatementEnabled() {
<span class="nc" id="L166">        return insertStatementEnabled;</span>
    }

    /**
     * Sets the insert statement enabled.
     *
     * @param insertStatementEnabled
     *            the new insert statement enabled
     */
    public void setInsertStatementEnabled(boolean insertStatementEnabled) {
<span class="nc" id="L176">        this.insertStatementEnabled = insertStatementEnabled;</span>
<span class="nc" id="L177">    }</span>

    /**
     * Checks if is select by primary key statement enabled.
     *
     * @return true, if is select by primary key statement enabled
     */
    public boolean isSelectByPrimaryKeyStatementEnabled() {
<span class="nc" id="L185">        return selectByPrimaryKeyStatementEnabled;</span>
    }

    /**
     * Sets the select by primary key statement enabled.
     *
     * @param selectByPrimaryKeyStatementEnabled
     *            the new select by primary key statement enabled
     */
    public void setSelectByPrimaryKeyStatementEnabled(
            boolean selectByPrimaryKeyStatementEnabled) {
<span class="nc" id="L196">        this.selectByPrimaryKeyStatementEnabled = selectByPrimaryKeyStatementEnabled;</span>
<span class="nc" id="L197">    }</span>

    /**
     * Checks if is update by primary key statement enabled.
     *
     * @return true, if is update by primary key statement enabled
     */
    public boolean isUpdateByPrimaryKeyStatementEnabled() {
<span class="nc" id="L205">        return updateByPrimaryKeyStatementEnabled;</span>
    }

    /**
     * Sets the update by primary key statement enabled.
     *
     * @param updateByPrimaryKeyStatementEnabled
     *            the new update by primary key statement enabled
     */
    public void setUpdateByPrimaryKeyStatementEnabled(
            boolean updateByPrimaryKeyStatementEnabled) {
<span class="nc" id="L216">        this.updateByPrimaryKeyStatementEnabled = updateByPrimaryKeyStatementEnabled;</span>
<span class="nc" id="L217">    }</span>

    /**
     * Checks if is column ignored.
     *
     * @param columnName
     *            the column name
     * @return true, if is column ignored
     */
    public boolean isColumnIgnored(String columnName) {
<span class="nc bnc" id="L227" title="All 2 branches missed.">        for (Map.Entry&lt;IgnoredColumn, Boolean&gt; entry : ignoredColumns</span>
                .entrySet()) {
<span class="nc bnc" id="L229" title="All 2 branches missed.">            if (entry.getKey().matches(columnName)) {</span>
<span class="nc" id="L230">                entry.setValue(Boolean.TRUE);</span>
<span class="nc" id="L231">                return true;</span>
            }
<span class="nc" id="L233">        }</span>

<span class="nc bnc" id="L235" title="All 2 branches missed.">        for (IgnoredColumnPattern ignoredColumnPattern : ignoredColumnPatterns) {</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">            if (ignoredColumnPattern.matches(columnName)) {</span>
<span class="nc" id="L237">                return true;</span>
            }
<span class="nc" id="L239">        }</span>

<span class="nc" id="L241">        return false;</span>
    }

    /**
     * Adds the ignored column.
     *
     * @param ignoredColumn
     *            the ignored column
     */
    public void addIgnoredColumn(IgnoredColumn ignoredColumn) {
<span class="nc" id="L251">        ignoredColumns.put(ignoredColumn, Boolean.FALSE);</span>
<span class="nc" id="L252">    }</span>

    public void addIgnoredColumnPattern(IgnoredColumnPattern ignoredColumnPattern) {
<span class="nc" id="L255">        ignoredColumnPatterns.add(ignoredColumnPattern);</span>
<span class="nc" id="L256">    }</span>

    /**
     * Adds the column override.
     *
     * @param columnOverride
     *            the column override
     */
    public void addColumnOverride(ColumnOverride columnOverride) {
<span class="nc" id="L265">        columnOverrides.add(columnOverride);</span>
<span class="nc" id="L266">    }</span>

    /* (non-Javadoc)
     * @see java.lang.Object#equals(java.lang.Object)
     */
    @Override
    public boolean equals(Object obj) {
<span class="nc bnc" id="L273" title="All 2 branches missed.">        if (this == obj) {</span>
<span class="nc" id="L274">            return true;</span>
        }

<span class="nc bnc" id="L277" title="All 2 branches missed.">        if (!(obj instanceof TableConfiguration)) {</span>
<span class="nc" id="L278">            return false;</span>
        }

<span class="nc" id="L281">        TableConfiguration other = (TableConfiguration) obj;</span>

<span class="nc bnc" id="L283" title="All 6 branches missed.">        return areEqual(this.catalog, other.catalog)</span>
                &amp;&amp; areEqual(this.schema, other.schema)
                &amp;&amp; areEqual(this.tableName, other.tableName);
    }

    /* (non-Javadoc)
     * @see java.lang.Object#hashCode()
     */
    @Override
    public int hashCode() {
<span class="nc" id="L293">        int result = SEED;</span>
<span class="nc" id="L294">        result = hash(result, catalog);</span>
<span class="nc" id="L295">        result = hash(result, schema);</span>
<span class="nc" id="L296">        result = hash(result, tableName);</span>

<span class="nc" id="L298">        return result;</span>
    }

    /**
     * Checks if is select by example statement enabled.
     *
     * @return true, if is select by example statement enabled
     */
    public boolean isSelectByExampleStatementEnabled() {
<span class="nc" id="L307">        return selectByExampleStatementEnabled;</span>
    }

    /**
     * Sets the select by example statement enabled.
     *
     * @param selectByExampleStatementEnabled
     *            the new select by example statement enabled
     */
    public void setSelectByExampleStatementEnabled(
            boolean selectByExampleStatementEnabled) {
<span class="nc" id="L318">        this.selectByExampleStatementEnabled = selectByExampleStatementEnabled;</span>
<span class="nc" id="L319">    }</span>

    /**
     * May return null if the column has not been overridden.
     *
     * @param columnName
     *            the column name
     * @return the column override (if any) related to this column
     */
    public ColumnOverride getColumnOverride(String columnName) {
<span class="nc bnc" id="L329" title="All 2 branches missed.">        for (ColumnOverride co : columnOverrides) {</span>
<span class="nc bnc" id="L330" title="All 2 branches missed.">            if (co.isColumnNameDelimited()) {</span>
<span class="nc bnc" id="L331" title="All 2 branches missed.">                if (columnName.equals(co.getColumnName())) {</span>
<span class="nc" id="L332">                    return co;</span>
                }
            } else {
<span class="nc bnc" id="L335" title="All 2 branches missed.">                if (columnName.equalsIgnoreCase(co.getColumnName())) {</span>
<span class="nc" id="L336">                    return co;</span>
                }
            }
<span class="nc" id="L339">        }</span>

<span class="nc" id="L341">        return null;</span>
    }

    /**
     * Gets the generated key.
     *
     * @return the generated key
     */
    public GeneratedKey getGeneratedKey() {
<span class="nc" id="L350">        return generatedKey;</span>
    }

    /**
     * Sets the generated key.
     *
     * @param generatedKey
     *            the new generated key
     */
    public void setGeneratedKey(GeneratedKey generatedKey) {
<span class="nc" id="L360">        this.generatedKey = generatedKey;</span>
<span class="nc" id="L361">    }</span>

    /**
     * Gets the select by example query id.
     *
     * @return the select by example query id
     */
    public String getSelectByExampleQueryId() {
<span class="nc" id="L369">        return selectByExampleQueryId;</span>
    }

    /**
     * Sets the select by example query id.
     *
     * @param selectByExampleQueryId
     *            the new select by example query id
     */
    public void setSelectByExampleQueryId(String selectByExampleQueryId) {
<span class="nc" id="L379">        this.selectByExampleQueryId = selectByExampleQueryId;</span>
<span class="nc" id="L380">    }</span>

    /**
     * Gets the select by primary key query id.
     *
     * @return the select by primary key query id
     */
    public String getSelectByPrimaryKeyQueryId() {
<span class="nc" id="L388">        return selectByPrimaryKeyQueryId;</span>
    }

    /**
     * Sets the select by primary key query id.
     *
     * @param selectByPrimaryKeyQueryId
     *            the new select by primary key query id
     */
    public void setSelectByPrimaryKeyQueryId(String selectByPrimaryKeyQueryId) {
<span class="nc" id="L398">        this.selectByPrimaryKeyQueryId = selectByPrimaryKeyQueryId;</span>
<span class="nc" id="L399">    }</span>

    /**
     * Checks if is delete by example statement enabled.
     *
     * @return true, if is delete by example statement enabled
     */
    public boolean isDeleteByExampleStatementEnabled() {
<span class="nc" id="L407">        return deleteByExampleStatementEnabled;</span>
    }

    /**
     * Sets the delete by example statement enabled.
     *
     * @param deleteByExampleStatementEnabled
     *            the new delete by example statement enabled
     */
    public void setDeleteByExampleStatementEnabled(
            boolean deleteByExampleStatementEnabled) {
<span class="nc" id="L418">        this.deleteByExampleStatementEnabled = deleteByExampleStatementEnabled;</span>
<span class="nc" id="L419">    }</span>

    /**
     * Are any statements enabled.
     *
     * @return true, if successful
     */
    public boolean areAnyStatementsEnabled() {
<span class="nc bnc" id="L427" title="All 16 branches missed.">        return selectByExampleStatementEnabled</span>
                || selectByPrimaryKeyStatementEnabled || insertStatementEnabled
                || updateByPrimaryKeyStatementEnabled
                || deleteByExampleStatementEnabled
                || deleteByPrimaryKeyStatementEnabled
                || countByExampleStatementEnabled
                || updateByExampleStatementEnabled;
    }

    /**
     * Gets the alias.
     *
     * @return the alias
     */
    public String getAlias() {
<span class="nc" id="L442">        return alias;</span>
    }

    /**
     * Sets the alias.
     *
     * @param alias
     *            the new alias
     */
    public void setAlias(String alias) {
<span class="nc" id="L452">        this.alias = alias;</span>
<span class="nc" id="L453">    }</span>

    /**
     * Gets the catalog.
     *
     * @return the catalog
     */
    public String getCatalog() {
<span class="nc" id="L461">        return catalog;</span>
    }

    /**
     * Sets the catalog.
     *
     * @param catalog
     *            the new catalog
     */
    public void setCatalog(String catalog) {
<span class="nc" id="L471">        this.catalog = catalog;</span>
<span class="nc" id="L472">    }</span>

    /**
     * Gets the domain object name.
     *
     * @return the domain object name
     */
    public String getDomainObjectName() {
<span class="nc" id="L480">        return domainObjectName;</span>
    }

    /**
     * Sets the domain object name.
     *
     * @param domainObjectName
     *            the new domain object name
     */
    public void setDomainObjectName(String domainObjectName) {
<span class="nc" id="L490">        this.domainObjectName = domainObjectName;</span>
<span class="nc" id="L491">    }</span>

    /**
     * Gets the schema.
     *
     * @return the schema
     */
    public String getSchema() {
<span class="nc" id="L499">        return schema;</span>
    }

    /**
     * Sets the schema.
     *
     * @param schema
     *            the new schema
     */
    public void setSchema(String schema) {
<span class="nc" id="L509">        this.schema = schema;</span>
<span class="nc" id="L510">    }</span>

    /**
     * Gets the table name.
     *
     * @return the table name
     */
    public String getTableName() {
<span class="nc" id="L518">        return tableName;</span>
    }

    /**
     * Sets the table name.
     *
     * @param tableName
     *            the new table name
     */
    public void setTableName(String tableName) {
<span class="nc" id="L528">        this.tableName = tableName;</span>
<span class="nc" id="L529">    }</span>

    /**
     * Gets the column overrides.
     *
     * @return the column overrides
     */
    public List&lt;ColumnOverride&gt; getColumnOverrides() {
<span class="nc" id="L537">        return columnOverrides;</span>
    }

    /**
     * This method returns a List of Strings. The values are the columns
     * that were specified to be ignored in the table, but do not exist in the
     * table.
     *
     * @return a List of Strings - the columns that were improperly configured
     *         as ignored columns
     */
    public List&lt;String&gt; getIgnoredColumnsInError() {
<span class="nc" id="L549">        List&lt;String&gt; answer = new ArrayList&lt;String&gt;();</span>

<span class="nc bnc" id="L551" title="All 2 branches missed.">        for (Map.Entry&lt;IgnoredColumn, Boolean&gt; entry : ignoredColumns</span>
                .entrySet()) {
<span class="nc bnc" id="L553" title="All 2 branches missed.">            if (Boolean.FALSE.equals(entry.getValue())) {</span>
<span class="nc" id="L554">                answer.add(entry.getKey().getColumnName());</span>
            }
<span class="nc" id="L556">        }</span>

<span class="nc" id="L558">        return answer;</span>
    }

    /**
     * Gets the model type.
     *
     * @return the model type
     */
    public ModelType getModelType() {
<span class="nc" id="L567">        return modelType;</span>
    }

    /**
     * Sets the configured model type.
     *
     * @param configuredModelType
     *            the new configured model type
     */
    public void setConfiguredModelType(String configuredModelType) {
<span class="nc" id="L577">        this.configuredModelType = configuredModelType;</span>
<span class="nc" id="L578">        this.modelType = ModelType.getModelType(configuredModelType);</span>
<span class="nc" id="L579">    }</span>

    /**
     * Checks if is wildcard escaping enabled.
     *
     * @return true, if is wildcard escaping enabled
     */
    public boolean isWildcardEscapingEnabled() {
<span class="nc" id="L587">        return wildcardEscapingEnabled;</span>
    }

    /**
     * Sets the wildcard escaping enabled.
     *
     * @param wildcardEscapingEnabled
     *            the new wildcard escaping enabled
     */
    public void setWildcardEscapingEnabled(boolean wildcardEscapingEnabled) {
<span class="nc" id="L597">        this.wildcardEscapingEnabled = wildcardEscapingEnabled;</span>
<span class="nc" id="L598">    }</span>

    /**
     * To xml element.
     *
     * @return the xml element
     */
    public XmlElement toXmlElement() {
<span class="nc" id="L606">        XmlElement xmlElement = new XmlElement(&quot;table&quot;); //$NON-NLS-1$</span>
<span class="nc" id="L607">        xmlElement.addAttribute(new Attribute(&quot;tableName&quot;, tableName)); //$NON-NLS-1$</span>

<span class="nc bnc" id="L609" title="All 2 branches missed.">        if (stringHasValue(catalog)) {</span>
<span class="nc" id="L610">            xmlElement.addAttribute(new Attribute(&quot;catalog&quot;, catalog)); //$NON-NLS-1$</span>
        }

<span class="nc bnc" id="L613" title="All 2 branches missed.">        if (stringHasValue(schema)) {</span>
<span class="nc" id="L614">            xmlElement.addAttribute(new Attribute(&quot;schema&quot;, schema)); //$NON-NLS-1$</span>
        }

<span class="nc bnc" id="L617" title="All 2 branches missed.">        if (stringHasValue(alias)) {</span>
<span class="nc" id="L618">            xmlElement.addAttribute(new Attribute(&quot;alias&quot;, alias)); //$NON-NLS-1$</span>
        }

<span class="nc bnc" id="L621" title="All 2 branches missed.">        if (stringHasValue(domainObjectName)) {</span>
<span class="nc" id="L622">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;domainObjectName&quot;, domainObjectName)); //$NON-NLS-1$
        }

<span class="nc bnc" id="L626" title="All 2 branches missed.">        if (!insertStatementEnabled) {</span>
<span class="nc" id="L627">            xmlElement.addAttribute(new Attribute(&quot;enableInsert&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$</span>
        }

<span class="nc bnc" id="L630" title="All 2 branches missed.">        if (!selectByPrimaryKeyStatementEnabled) {</span>
<span class="nc" id="L631">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableSelectByPrimaryKey&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L635" title="All 2 branches missed.">        if (!selectByExampleStatementEnabled) {</span>
<span class="nc" id="L636">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableSelectByExample&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L640" title="All 2 branches missed.">        if (!updateByPrimaryKeyStatementEnabled) {</span>
<span class="nc" id="L641">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableUpdateByPrimaryKey&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L645" title="All 2 branches missed.">        if (!deleteByPrimaryKeyStatementEnabled) {</span>
<span class="nc" id="L646">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableDeleteByPrimaryKey&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L650" title="All 2 branches missed.">        if (!deleteByExampleStatementEnabled) {</span>
<span class="nc" id="L651">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableDeleteByExample&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L655" title="All 2 branches missed.">        if (!countByExampleStatementEnabled) {</span>
<span class="nc" id="L656">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableCountByExample&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L660" title="All 2 branches missed.">        if (!updateByExampleStatementEnabled) {</span>
<span class="nc" id="L661">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;enableUpdateByExample&quot;, &quot;false&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L665" title="All 2 branches missed.">        if (stringHasValue(selectByPrimaryKeyQueryId)) {</span>
<span class="nc" id="L666">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;selectByPrimaryKeyQueryId&quot;, selectByPrimaryKeyQueryId)); //$NON-NLS-1$
        }

<span class="nc bnc" id="L670" title="All 2 branches missed.">        if (stringHasValue(selectByExampleQueryId)) {</span>
<span class="nc" id="L671">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;selectByExampleQueryId&quot;, selectByExampleQueryId)); //$NON-NLS-1$
        }

<span class="nc bnc" id="L675" title="All 2 branches missed.">        if (configuredModelType != null) {</span>
<span class="nc" id="L676">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;modelType&quot;, configuredModelType)); //$NON-NLS-1$
        }

<span class="nc bnc" id="L680" title="All 2 branches missed.">        if (wildcardEscapingEnabled) {</span>
<span class="nc" id="L681">            xmlElement.addAttribute(new Attribute(&quot;escapeWildcards&quot;, &quot;true&quot;)); //$NON-NLS-1$ //$NON-NLS-2$</span>
        }

<span class="nc bnc" id="L684" title="All 2 branches missed.">        if (isAllColumnDelimitingEnabled) {</span>
<span class="nc" id="L685">            xmlElement.addAttribute(new Attribute(&quot;delimitAllColumns&quot;, &quot;true&quot;)); //$NON-NLS-1$ //$NON-NLS-2$</span>
        }

<span class="nc bnc" id="L688" title="All 2 branches missed.">        if (delimitIdentifiers) {</span>
<span class="nc" id="L689">            xmlElement</span>
                    .addAttribute(new Attribute(&quot;delimitIdentifiers&quot;, &quot;true&quot;)); //$NON-NLS-1$ //$NON-NLS-2$
        }

<span class="nc bnc" id="L693" title="All 2 branches missed.">        if (stringHasValue(mapperName)) {</span>
<span class="nc" id="L694">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;mapperName&quot;, mapperName)); //$NON-NLS-1$
        }

<span class="nc bnc" id="L698" title="All 2 branches missed.">        if (stringHasValue(sqlProviderName)) {</span>
<span class="nc" id="L699">            xmlElement.addAttribute(new Attribute(</span>
                    &quot;sqlProviderName&quot;, sqlProviderName)); //$NON-NLS-1$
        }

<span class="nc" id="L703">        addPropertyXmlElements(xmlElement);</span>

<span class="nc bnc" id="L705" title="All 2 branches missed.">        if (generatedKey != null) {</span>
<span class="nc" id="L706">            xmlElement.addElement(generatedKey.toXmlElement());</span>
        }

<span class="nc bnc" id="L709" title="All 2 branches missed.">        if (columnRenamingRule != null) {</span>
<span class="nc" id="L710">            xmlElement.addElement(columnRenamingRule.toXmlElement());</span>
        }

<span class="nc bnc" id="L713" title="All 2 branches missed.">        if (ignoredColumns.size() &gt; 0) {</span>
<span class="nc bnc" id="L714" title="All 2 branches missed.">            for (IgnoredColumn ignoredColumn : ignoredColumns.keySet()) {</span>
<span class="nc" id="L715">                xmlElement.addElement(ignoredColumn.toXmlElement());</span>
<span class="nc" id="L716">            }</span>
        }

<span class="nc bnc" id="L719" title="All 2 branches missed.">        for (IgnoredColumnPattern ignoredColumnPattern : ignoredColumnPatterns) {</span>
<span class="nc" id="L720">            xmlElement.addElement(ignoredColumnPattern.toXmlElement());</span>
<span class="nc" id="L721">        }</span>

<span class="nc bnc" id="L723" title="All 2 branches missed.">        if (columnOverrides.size() &gt; 0) {</span>
<span class="nc bnc" id="L724" title="All 2 branches missed.">            for (ColumnOverride columnOverride : columnOverrides) {</span>
<span class="nc" id="L725">                xmlElement.addElement(columnOverride.toXmlElement());</span>
<span class="nc" id="L726">            }</span>
        }

<span class="nc" id="L729">        return xmlElement;</span>
    }

    /* (non-Javadoc)
     * @see java.lang.Object#toString()
     */
    @Override
    public String toString() {
<span class="nc" id="L737">        return composeFullyQualifiedTableName(catalog, schema,</span>
                tableName, '.');
    }

    /**
     * Checks if is delimit identifiers.
     *
     * @return true, if is delimit identifiers
     */
    public boolean isDelimitIdentifiers() {
<span class="nc" id="L747">        return delimitIdentifiers;</span>
    }

    /**
     * Sets the delimit identifiers.
     *
     * @param delimitIdentifiers
     *            the new delimit identifiers
     */
    public void setDelimitIdentifiers(boolean delimitIdentifiers) {
<span class="nc" id="L757">        this.delimitIdentifiers = delimitIdentifiers;</span>
<span class="nc" id="L758">    }</span>

    /**
     * Checks if is count by example statement enabled.
     *
     * @return true, if is count by example statement enabled
     */
    public boolean isCountByExampleStatementEnabled() {
<span class="nc" id="L766">        return countByExampleStatementEnabled;</span>
    }

    /**
     * Sets the count by example statement enabled.
     *
     * @param countByExampleStatementEnabled
     *            the new count by example statement enabled
     */
    public void setCountByExampleStatementEnabled(
            boolean countByExampleStatementEnabled) {
<span class="nc" id="L777">        this.countByExampleStatementEnabled = countByExampleStatementEnabled;</span>
<span class="nc" id="L778">    }</span>

    /**
     * Checks if is update by example statement enabled.
     *
     * @return true, if is update by example statement enabled
     */
    public boolean isUpdateByExampleStatementEnabled() {
<span class="nc" id="L786">        return updateByExampleStatementEnabled;</span>
    }

    /**
     * Sets the update by example statement enabled.
     *
     * @param updateByExampleStatementEnabled
     *            the new update by example statement enabled
     */
    public void setUpdateByExampleStatementEnabled(
            boolean updateByExampleStatementEnabled) {
<span class="nc" id="L797">        this.updateByExampleStatementEnabled = updateByExampleStatementEnabled;</span>
<span class="nc" id="L798">    }</span>

    /**
     * Validate.
     *
     * @param errors
     *            the errors
     * @param listPosition
     *            the list position
     */
    public void validate(List&lt;String&gt; errors, int listPosition) {
<span class="nc bnc" id="L809" title="All 2 branches missed.">        if (!stringHasValue(tableName)) {</span>
<span class="nc" id="L810">            errors.add(getString(</span>
                    &quot;ValidationError.6&quot;, Integer.toString(listPosition))); //$NON-NLS-1$
        }

<span class="nc" id="L814">        String fqTableName = composeFullyQualifiedTableName(</span>
                catalog, schema, tableName, '.');

<span class="nc bnc" id="L817" title="All 2 branches missed.">        if (generatedKey != null) {</span>
<span class="nc" id="L818">            generatedKey.validate(errors, fqTableName);</span>
        }

        // when using column indexes, either both or neither query ids
        // should be set
<span class="nc bnc" id="L823" title="All 6 branches missed.">        if (isTrue(getProperty(PropertyRegistry.TABLE_USE_COLUMN_INDEXES))</span>
                &amp;&amp; selectByExampleStatementEnabled
                &amp;&amp; selectByPrimaryKeyStatementEnabled) {
<span class="nc" id="L826">            boolean queryId1Set = stringHasValue(selectByExampleQueryId);</span>
<span class="nc" id="L827">            boolean queryId2Set = stringHasValue(selectByPrimaryKeyQueryId);</span>

<span class="nc bnc" id="L829" title="All 2 branches missed.">            if (queryId1Set != queryId2Set) {</span>
<span class="nc" id="L830">                errors.add(getString(&quot;ValidationError.13&quot;, //$NON-NLS-1$</span>
                        fqTableName));
            }
        }

<span class="nc bnc" id="L835" title="All 2 branches missed.">        if (columnRenamingRule != null) {</span>
<span class="nc" id="L836">            columnRenamingRule.validate(errors, fqTableName);</span>
        }

<span class="nc bnc" id="L839" title="All 2 branches missed.">        for (ColumnOverride columnOverride : columnOverrides) {</span>
<span class="nc" id="L840">            columnOverride.validate(errors, fqTableName);</span>
<span class="nc" id="L841">        }</span>

<span class="nc bnc" id="L843" title="All 2 branches missed.">        for (IgnoredColumn ignoredColumn : ignoredColumns.keySet()) {</span>
<span class="nc" id="L844">            ignoredColumn.validate(errors, fqTableName);</span>
<span class="nc" id="L845">        }</span>

<span class="nc bnc" id="L847" title="All 2 branches missed.">        for (IgnoredColumnPattern ignoredColumnPattern : ignoredColumnPatterns) {</span>
<span class="nc" id="L848">            ignoredColumnPattern.validate(errors, fqTableName);</span>
<span class="nc" id="L849">        }</span>
<span class="nc" id="L850">    }</span>

    /**
     * Gets the column renaming rule.
     *
     * @return the column renaming rule
     */
    public ColumnRenamingRule getColumnRenamingRule() {
<span class="nc" id="L858">        return columnRenamingRule;</span>
    }

    /**
     * Sets the column renaming rule.
     *
     * @param columnRenamingRule
     *            the new column renaming rule
     */
    public void setColumnRenamingRule(ColumnRenamingRule columnRenamingRule) {
<span class="nc" id="L868">        this.columnRenamingRule = columnRenamingRule;</span>
<span class="nc" id="L869">    }</span>

    /**
     * Checks if is all column delimiting enabled.
     *
     * @return true, if is all column delimiting enabled
     */
    public boolean isAllColumnDelimitingEnabled() {
<span class="nc" id="L877">        return isAllColumnDelimitingEnabled;</span>
    }

    /**
     * Sets the all column delimiting enabled.
     *
     * @param isAllColumnDelimitingEnabled
     *            the new all column delimiting enabled
     */
    public void setAllColumnDelimitingEnabled(
            boolean isAllColumnDelimitingEnabled) {
<span class="nc" id="L888">        this.isAllColumnDelimitingEnabled = isAllColumnDelimitingEnabled;</span>
<span class="nc" id="L889">    }</span>

    public String getMapperName() {
<span class="nc" id="L892">        return mapperName;</span>
    }

    public void setMapperName(String mapperName) {
<span class="nc" id="L896">        this.mapperName = mapperName;</span>
<span class="nc" id="L897">    }</span>

    public String getSqlProviderName() {
<span class="nc" id="L900">        return sqlProviderName;</span>
    }

    public void setSqlProviderName(String sqlProviderName) {
<span class="nc" id="L904">        this.sqlProviderName = sqlProviderName;</span>
<span class="nc" id="L905">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.7.201606060606</span></div></body></html>